# WikiSearch
### Описание
WikiSearch - single page application для поиска статей википедии по
открытому API. Адаптировано под мобильные устройства.  
  
__version: 1.0.0__
## Использование приложения
### Установка зависимостей
`npm install --save-dev`

### Скрипты
* `npm run start` - запуск dev сервера по адресу 
http://localhost:8080  
* `npm run test` - запуск тестов из директории */tests*
* `npm run build` - сборка приложения в директорию 
*/dist*

### Поиск
Поиск осуществляется на *en.wikipedia.org*.
Приложение состоит из двух экранов. 

#### Home (Стартовый экран)
По центру стартового экрана расположена поисковая 
строка.
Поиск производится по нажатию на поисковую кнопку или 
по нажатию на клавишу Enter. Осуществляется переход на второй 
экран приложения. *(SearchResult)*

#### SearchResult (Второй экран)
Второй экран состоит из заголовка, главной части, подвала. 
В заголовке располагается поисковая строка. В главной части - 
результаты поиска. В подвале располагаются кнопки для перехода 
по страницам результатов, а также кнопки NEXT и PREVIOUS. 
  
В правой колонке главной части располагается настройка 
сотрировки результатов и история последних запросов. 
Посещенные страницы помечаются словом *visited*.

## Архитектура приложения
### Инструменты
Приложение написано на __Typescript__ с использованием __React__. 
Транспиляция и сборка осуществляется при помощи __Babel__ и __Webpack__.
Использовались компоненты набора __Material-UI__.

### Краткое описание
Поиск осуществляется при:
* переходе со стартовой страницы
* клике по запросу из истории
* изменении настроек сортировки результатов

Поиск осуществляется с помощью класса 
*/model/ArticlesInfoSearcher*. Найденые статьи хранятся в 
состоянии компонента *SearchResult*. Изменение состояния компонента
вызывает его перерисовку. 
(ограничение на поиск - не более 250 статей)  

Посещенные статьи и история запросов хранятся в cookie сайта.
  
При возникновении ошибки, появляется 
предупреждение с соответсвующим текстом (класс *ErrorSnackBar*).

### Структура 
* __/src__ - корневая директория React приложения  
    * __/src/components__ - директория компонентов
        * App - корневой, монтируется в элемент
                с классом root на странице */public/index.html*
        * Home - стартовый экран
            * SearchBar - логотип + поисковая строка
            * SearchRaw - поисковая строка
        * SearchResult - результаты поиска
            * Header - заголовок
                * SearchRaw - поисковая строка
            * main
                * CardsContainer - контейнер для 
                    ArticleInfoCard
                    * ArticleInfoCard - информация о статье:
                        заголовок, сниппет, дата
                * SortingControl - сортировка результатов
                * QueryHistory - история запросов
                * ErrorSnackBar - вывод сообщений об ошибках
            * footer
                * PageSelector - выбор страницы результатов, 
                    переход на следующую и предыдущуюю страницу
                    * PageSelectButton - кнопка выбора страницы
    * __/src/model__ - логика приложения
        * articlesInfo - полная информация о статье
        * articlesInfoSearcher - выполнение запроса, обработка 
            ошибок при работе с сетью, парсинг ответа
        * articlesInfoSearchResult - общее количество статей и 
            массив элементов с информацией о них
        * sorting - сортировка результатов
        * webError - сетевые ошибки
* */public* - статические файлы приложения
* */dist* - директория сборки приложения
* */tests* - директория тестов
* конфигурационные файлы:
    * зависимости - package.json
    * babel - .babelrc
    * style linter - .stylelintrc
    * webpack - webpack.config.js